<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web Dev Subject 3 Assignment</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/styles.css" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="/assets/aero-logo-mid.png">
</head>
<body>

  <!-- Header Navbar -->
  <nav class=" navbar navbar-expand-lg navbar-dark headerbar">
    <div class="container-fluid ">
      <a class="navbar-brand" href="#">TOs & DOs <span class="text-muted">Admin Center</span></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto d-flex align-items-center">
          <li class="nav-item"><a class="nav-link active btn btn-success" href="www.youtube.com/watch?v=UHKHPybcLuc&ab_channel=MEMEINDUSTRIESARCHIVE">Logout</a></li>
          <li class="nav-item">
            <a class="nav-link active py-0 my-0" href="profile.html"><img id="profile-image" src="https://via.placeholder.com/150" alt="Profile Image" class="profile-image p-0 m-0" /></a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

<!-- Body Section -->
<section class="container-fluid d-flex px-0">
<div class="col-2 sidebar bg-sidebar">
  <ul class="navbar-nav ms-auto bg-sidebar">
    <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
    <li class="nav-item"><a class="nav-link" href="profile.html">Your User</a></li>
    <li class="nav-item"><a class="nav-link" href="data-view.html">View All Users</a></li>
    <li class="nav-item"><a class="nav-link" href="edit.html">Edit User Details</a></li>
    <li class="nav-item"><a class="nav-link" href="upload.html">Upload User Image</a></li>
    <li class="nav-item"><a class="nav-link" href="todo.html">Todo List Management</a></li>
    <li class="nav-item"><a class="nav-link" href="legal.html">Light Reading/Legal</a></li>
    <li class="nav-item "><a class="nav-link" href="api.html">API Reference</a></li>
  </ul>
</div>
  <!-- Hero Section -->

  <section class="py-5 text-center container-fluid bg-aero col ">
    <div class="row py-lg-5">
      <div class="col-lg-8 col-md-10 mx-auto">
        <h1 class="fw-light">The Web Dev Subject 3 Assignment Demo</h1>
        <p class="lead text-muted">
          This software demonstrates the structure of a multi-page frontend web application that interacts with a live REST API backend. Some pages are interactive and connected to the API; others serve as layout placeholders. Use the navigation above to explore each component.
        </p>
        <p class="lead text-muted">
            As students in this course,  you are not expected to make your assignment look EXACTLY like this demo,  
            but you are expected to meet the functional requirements asked of you in the assignment.
        </p>
        <p class="lead text-muted">
            The four pages in this demo which meet the REST API requirements of the assignment are the Profile page, the Edit page,
            the Upload page,  and the Data View page.  There are 10 pages in total,  which is another requirment of the assignment.
        </p>
        <p><span class="badge bg-secondary">Bootstrap 5</span> <span class="badge bg-info text-dark">REST API Integration</span> <span class="badge bg-success">10+ Page Structure</span></p>
        <div class="alert alert-info mt-4">
          <strong>Need help?</strong> Visit the <a href="api.html" class="alert-link">API Reference</a> page for example calls and endpoint details.
        </div>
      </div>
    </div>
  </section>


</section>

  <!-- Footer -->
  <footer class="text-muted py-4 bg-light">
    <div class="container text-center">
      <p class="mb-1">&copy; 2025 Velodata.org | Web Dev Subject 3 Assignment</p>
    </div>
  </footer>

    <!-- PFP Script -->
    <script>
    const BASE_API_URL = 'https://mx.velodata.org/api/v2';
    const userId = 43;

    async function fetchUserProfile() {
      try {
        const response = await fetch(`${BASE_API_URL}/teach/users/${userId}`);
        if (!response.ok) throw new Error(`User ${userId} not found`);
        const { data } = await response.json();
        const attrs = data.attributes;

        document.getElementById('profile-image').src = attrs.profile_image || 'https://via.placeholder.com/150';
        
      } catch (err) {
        console.error(err);
        alert('Failed to load user profile.');
      }
    }

    document.addEventListener('DOMContentLoaded', fetchUserProfile);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
